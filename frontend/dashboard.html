<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SurePro - Sistema Premium de Surebets</title>
    
    <!-- Fontes e Ícones -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1f2937;
            --darker: #111827;
            --light: #f8fafc;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-premium: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #d946ef 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: var(--darker);
            color: var(--light);
            overflow-x: hidden;
        }
        
        /* Layout Principal RESPONSIVO */
        .app-container {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }
        
        /* Sidebar RESPONSIVO */
        .sidebar {
            width: 100%;
            background: var(--dark);
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 1rem;
            position: fixed;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .sidebar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-premium);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            display: none;
        }
        
        .mobile-menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .nav-menu {
            display: none;
            width: 100%;
            margin-top: 1rem;
            background: var(--dark);
            border-radius: 12px;
            padding: 1rem;
        }
        
        .nav-menu.active {
            display: block;
        }
        
        .nav-section {
            margin-bottom: 1.5rem;
        }
        
        .nav-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: #9ca3af;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            color: #d1d5db;
            text-decoration: none;
            transition: all 0.3s ease;
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }
        
        .nav-item:hover, .nav-item.active {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
        }
        
        /* Conteúdo Principal RESPONSIVO */
        .main-content {
            flex: 1;
            padding: 6rem 1rem 2rem 1rem;
            width: 100%;
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* Header RESPONSIVO */
        .header {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .header-title h1 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }
        
        .header-actions {
            display: flex;
            justify-content: center;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-premium);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        /* Cards de Métricas RESPONSIVO */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .metric-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            min-width: 0;
        }
        
        .metric-card:hover {
            transform: translateY(-3px);
            border-color: var(--primary);
        }
        
        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .metric-icon {
            width: 45px;
            height: 45px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .metric-icon.profit { background: rgba(16, 185, 129, 0.2); color: var(--secondary); }
        .metric-icon.roi { background: rgba(99, 102, 241, 0.2); color: var(--primary); }
        .metric-icon.operations { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .metric-icon.success { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            word-break: break-word;
        }
        
        .metric-title {
            color: #9ca3af;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .metric-trend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            margin-top: 0.5rem;
        }
        
        .trend-up { color: var(--secondary); }
        .trend-down { color: var(--danger); }
        
        /* Calculadora RESPONSIVO */
        .calculator-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255,255,255,0.1);
            width: 100%;
            overflow: hidden;
        }
        
        .section-header {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
        }
        
        .calculator-grid {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .input-group {
            margin-bottom: 1rem;
        }
        
        .input-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #9ca3af;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .input-field {
            width: 100%;
            padding: 0.875rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255,255,255,0.15);
        }
        
        .btn-premium {
            background: var(--gradient-premium);
            color: white;
            border: none;
            padding: 0.875rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-size: 0.9rem;
        }
        
        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }
        
        /* Resultado RESPONSIVO */
        .result-card {
            background: var(--gradient-premium);
            border-radius: 16px;
            padding: 1.5rem;
            color: white;
            width: 100%;
        }
        
        .result-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-align: center;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .detail-item {
            text-align: center;
            padding: 0.8rem;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        
        .detail-value {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .detail-label {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        
        .stake-recommendation {
            margin-top: 1rem;
        }
        
        .stake-recommendation h4 {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .stake-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.8rem;
        }
        
        /* Gráficos RESPONSIVO */
        .charts-grid {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .chart-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            width: 100%;
        }
        
        .chart-container {
            height: 250px;
            position: relative;
        }
        
        /* Tabela RESPONSIVO */
        .operations-table {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            width: 100%;
            overflow-x: auto;
        }
        
        .table-header {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }
        
        .table th {
            text-align: left;
            padding: 0.75rem;
            color: #9ca3af;
            font-weight: 500;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.8rem;
        }
        
        .table td {
            padding: 0.75rem;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 0.8rem;
        }
        
        .status-badge {
            padding: 0.2rem 0.6rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 500;
        }
        
        .status-success { background: rgba(16, 185, 129, 0.2); color: var(--secondary); }
        .status-pending { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .status-failed { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        
        .profit-positive { color: var(--secondary); font-weight: 600; }
        .profit-negative { color: var(--danger); font-weight: 600; }
        
        /* Media Queries para Telas Maiores */
        @media (min-width: 768px) {
            .app-container {
                flex-direction: row;
            }
            
            .sidebar {
                width: 280px;
                height: 100vh;
                border-right: 1px solid rgba(255,255,255,0.1);
                border-bottom: none;
                padding: 2rem 1.5rem;
            }
            
            .sidebar-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .logo-text {
                display: block;
            }
            
            .mobile-menu-btn {
                display: none;
            }
            
            .nav-menu {
                display: block;
                width: 100%;
                margin-top: 2rem;
            }
            
            .main-content {
                margin-left: 0;
                padding: 2rem;
                margin-top: 0;
            }
            
            .header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            
            .header-title h1 {
                text-align: left;
                font-size: 2rem;
            }
            
            .calculator-grid {
                flex-direction: row;
            }
            
            .calculator-inputs {
                flex: 1;
            }
            
            .calculator-result {
                flex: 1;
            }
            
            .charts-grid {
                flex-direction: row;
            }
            
            .table-header {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            
            .table {
                min-width: auto;
            }
        }
        
        @media (min-width: 1024px) {
            .main-content {
                margin-left: 280px;
            }
            
            .metrics-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .metric-value {
                font-size: 2rem;
            }
            
            .result-value {
                font-size: 2.5rem;
            }
        }
        
        /* Animações */
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        .mt-3 { margin-top: 1rem; }
        .me-2 { margin-right: 0.5rem; }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar RESPONSIVO -->
        <nav class="sidebar">
            <div class="sidebar-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="logo-text">SurePro</div>
                </div>
                
                <button class="mobile-menu-btn" onclick="toggleMenu()">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="nav-menu" id="navMenu">
                    <div class="nav-section">
                        <div class="nav-title">Principal</div>
                        <a href="#" class="nav-item active">
                            <i class="fas fa-chart-line"></i>
                            Dashboard
                        </a>
                        <a href="opportunities.html" class="nav-item">
                            <i class="fas fa-bolt"></i>
                            Oportunidades Ao Vivo
                        </a>
                        <a href="calculator.html" class="nav-item">
                            <i class="fas fa-calculator"></i>
                            Calculadora Avançada
                        </a>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-title">Operações</div>
                        <a href="operations.html" class="nav-item">
                            <i class="fas fa-exchange-alt"></i>
                            Minhas Operações
                        </a>
                        <a href="history.html" class="nav-item">
                            <i class="fas fa-history"></i>
                            Histórico
                        </a>
                        <a href="bankroll.html" class="nav-item">
                            <i class="fas fa-wallet"></i>
                            Gestão de Bankroll
                        </a>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-title">Configurações</div>
                        <a href="profile.html?tab=profile" class="nav-item">
                         <i class="fas fa-user-cog"></i>
                          Perfil
                        </a>
                    <a href="profile.html?tab=preferences" class="nav-item">
                    <i class="fas fa-sliders-h"></i>
                          Preferências
                    </a>
                    <a href="javascript:void(0)" class="nav-item" onclick="logout()" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                          Sair
                    </a>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Conteúdo Principal RESPONSIVO -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-title">
                    <h1>Dashboard Premium</h1>
                    <p>Bem-vindo de volta, <span id="userName">Investidor</span>! 👑</p>
                </div>
                
                <div class="header-actions">
                    <div class="user-profile">
                        <div class="user-avatar" id="userAvatar">VP</div>
                        <div class="user-info">
                            <div class="user-name" id="displayUserName">Vinicius Pro</div>
                            <div class="user-plan">Plano Premium</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Métricas em Grid -->
            <div class="metrics-grid">
                <div class="metric-card" data-aos="fade-up">
                    <div class="metric-header">
                        <div class="metric-icon profit">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                    </div>
                    <div class="metric-value" id="totalProfit">R$ 12.847,50</div>
                    <div class="metric-title">Lucro Total</div>
                    <div class="metric-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>+12.5% este mês</span>
                    </div>
                </div>
                
                <div class="metric-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="metric-header">
                        <div class="metric-icon roi">
                            <i class="fas fa-percentage"></i>
                        </div>
                    </div>
                    <div class="metric-value" id="avgROI">4.27%</div>
                    <div class="metric-title">ROI Médio</div>
                    <div class="metric-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>+0.8% desde ontem</span>
                    </div>
                </div>
                
                <div class="metric-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="metric-header">
                        <div class="metric-icon operations">
                            <i class="fas fa-chart-line"></i>
                        </div>
                    </div>
                    <div class="metric-value" id="totalOperations">347</div>
                    <div class="metric-title">Operações Realizadas</div>
                    <div class="metric-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>15 hoje</span>
                    </div>
                </div>
                
                <div class="metric-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="metric-header">
                        <div class="metric-icon success">
                            <i class="fas fa-trophy"></i>
                        </div>
                    </div>
                    <div class="metric-value" id="successRate">94.8%</div>
                    <div class="metric-title">Taxa de Sucesso</div>
                    <div class="metric-trend trend-up">
                        <i class="fas fa-arrow-up"></i>
                        <span>+2.1% este mês</span>
                    </div>
                </div>
            </div>

            <!-- Calculadora e Resultados -->
            <div class="calculator-section" data-aos="fade-up">
                <div class="section-header">
                    <h2 class="section-title">Calculadora de Surebets</h2>
                    <div class="section-actions">
                        <button class="btn-premium" onclick="calculateOptimalStake()">
                            <i class="fas fa-magic me-2"></i>Cálculo Automático
                        </button>
                    </div>
                </div>
                
                <div class="calculator-grid">
                    <div class="calculator-inputs">
                        <div class="input-group">
                            <label class="input-label">Odd Casa 1</label>
                            <input type="number" step="0.01" class="input-field" id="odd1" placeholder="Ex: 2.10" value="2.10">
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label">Odd Casa 2</label>
                            <input type="number" step="0.01" class="input-field" id="odd2" placeholder="Ex: 2.10" value="2.00">
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label">Nome Casa 1</label>
                            <input type="text" class="input-field" id="casa1" value="Bet365">
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label">Nome Casa 2</label>
                            <input type="text" class="input-field" id="casa2" value="Betano">
                        </div>
                        
                        <div class="input-group">
                            <label class="input-label">Stake Total (R$)</label>
                            <input type="number" step="0.01" class="input-field" id="stakeTotal" value="1000">
                        </div>
                        
                        <button class="btn-premium" onclick="calculateSurebet()">
                            <i class="fas fa-bolt me-2"></i>Calcular Surebet
                        </button>
                    </div>
                    
                    <div class="calculator-result">
                        <div class="result-card" id="calculationResult">
                            <div class="result-badge">
                                <i class="fas fa-crown me-2"></i>OPORTUNIDADE PREMIUM
                            </div>
                            <div class="result-value" id="resultProfit">R$ 47,62</div>
                            <div class="result-label">Lucro Garantido</div>
                            
                            <div class="result-details">
                                <div class="detail-item">
                                    <div class="detail-value" id="resultROI">4.76%</div>
                                    <div class="detail-label">ROI</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-value" id="resultMargin">4.76%</div>
                                    <div class="detail-label">Margem</div>
                                </div>
                            </div>
                            
                            <div class="stake-recommendation">
                                <h4>Distribuição de Stake</h4>
                                <div class="stake-item">
                                    <span id="stakeCasa1">Bet365: R$ 487,80</span>
                                    <span class="stake-odd">Odd: 2.10</span>
                                </div>
                                <div class="stake-item">
                                    <span id="stakeCasa2">Betano: R$ 512,20</span>
                                    <span class="stake-odd">Odd: 2.00</span>
                                </div>
                            </div>
                            
                            <button class="btn-premium mt-3" onclick="registerOperation()">
                                <i class="fas fa-rocket me-2"></i>Executar Operação
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gráficos e Analytics -->
            <div class="charts-grid">
                <div class="chart-card" data-aos="fade-right">
                    <div class="section-header">
                        <h3 class="section-title">Performance Mensal</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card" data-aos="fade-left">
                    <div class="section-header">
                        <h3 class="section-title">Distribuição de Esportes</h3>
                    </div>
                    <div class="chart-container">
                        <canvas id="sportsChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Tabela de Operações Recentes -->
            <div class="operations-table" data-aos="fade-up">
                <div class="table-header">
                    <h3 class="section-title">Operações Recentes</h3>
                    <button class="btn-premium">
                        <i class="fas fa-download me-2"></i>Exportar Relatório
                    </button>
                </div>
                
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Evento</th>
                                <th>Esporte</th>
                                <th>Stake</th>
                                <th>Lucro</th>
                                <th>ROI</th>
                                <th>Status</th>
                                <th>Data/Hora</th>
                            </tr>
                        </thead>
                        <tbody id="operationsTable">
                            <tr>
                                <td>Flamengo vs Vasco</td>
                                <td>Futebol</td>
                                <td>R$ 1.000,00</td>
                                <td class="profit-positive">R$ 45,80</td>
                                <td class="profit-positive">4.58%</td>
                                <td><span class="status-badge status-success">Sucesso</span></td>
                                <td>25/12/2024 15:30</td>
                            </tr>
                            <tr>
                                <td>Lakers vs Warriors</td>
                                <td>Basquete</td>
                                <td>R$ 850,00</td>
                                <td class="profit-positive">R$ 38,25</td>
                                <td class="profit-positive">4.50%</td>
                                <td><span class="status-badge status-success">Sucesso</span></td>
                                <td>25/12/2024 14:15</td>
                            </tr>
                            <tr>
                                <td>Nadal vs Djokovic</td>
                                <td>Tênis</td>
                                <td>R$ 1.200,00</td>
                                <td class="profit-positive">R$ 52,80</td>
                                <td class="profit-positive">4.40%</td>
                                <td><span class="status-badge status-success">Sucesso</span></td>
                                <td>25/12/2024 13:45</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script>
    // ✅ INICIALIZA ANIMAÇÕES
    if (typeof AOS !== 'undefined') {
        AOS.init({
            duration: 1000,
            once: true
        });
    }

    // ✅ MENU MOBILE
    function toggleMenu() {
        const navMenu = document.getElementById('navMenu');
        if (navMenu) {
            navMenu.classList.toggle('active');
        }
    }

    // ✅ LOGOUT CORRETO E FUNCIONAL
    function logout() {
        console.log('🚀 LOGOUT EXECUTADO');
        
        if (confirm('Tem certeza que deseja sair do sistema?')) {
            // Limpeza completa
            localStorage.clear();
            sessionStorage.clear();
            
            console.log('✅ Dados limpos');
            
            // Redirecionamento CORRETO
            window.location.href = 'https://joseph001479.github.io/sistema-surebets-premium/';
        }
        return false;
    }

    // ✅ FECHA MENU MOBILE
    document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', () => {
            if (window.innerWidth < 768) {
                const navMenu = document.getElementById('navMenu');
                if (navMenu) {
                    navMenu.classList.remove('active');
                }
            }
        });
    });

    // ✅ INICIALIZAÇÃO PRINCIPAL
    document.addEventListener('DOMContentLoaded', function() {
        console.log('🚀 DASHBOARD INICIADO');
        
        // Configura eventos de logout
        const logoutBtn = document.getElementById('logoutBtn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                logout();
            });
        }
        
        // Inicializa componentes
        if (typeof initializeCharts === 'function') {
            initializeCharts();
        }
        if (typeof loadUserData === 'function') {
            loadUserData();
        }
        if (typeof calculateSurebet === 'function') {
            calculateSurebet();
        }
    });

    // ✅ GRÁFICOS
    function initializeCharts() {
        try {
            // Gráfico de Performance
            const performanceCtx = document.getElementById('performanceChart');
            if (performanceCtx) {
                new Chart(performanceCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: ['1/12', '5/12', '10/12', '15/12', '20/12', '25/12'],
                        datasets: [{
                            label: 'Lucro Acumulado (R$)',
                            data: [2500, 4200, 5800, 7500, 9200, 12847],
                            borderColor: '#6366f1',
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: '#9ca3af' }
                            },
                            x: {
                                grid: { color: 'rgba(255,255,255,0.1)' },
                                ticks: { color: '#9ca3af' }
                            }
                        }
                    }
                });
            }

            // Gráfico de Esportes
            const sportsCtx = document.getElementById('sportsChart');
            if (sportsCtx) {
                new Chart(sportsCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Futebol', 'Tênis', 'Basquete', 'Outros'],
                        datasets: [{
                            data: [45, 25, 20, 10],
                            backgroundColor: ['#6366f1', '#10b981', '#f59e0b', '#6b7280']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#9ca3af',
                                    font: {
                                        size: window.innerWidth < 768 ? 10 : 12
                                    }
                                }
                            }
                        }
                    }
                });
            }
        } catch (error) {
            console.error('Erro nos gráficos:', error);
        }
    }

    // ✅ CARREGA DADOS DO USUÁRIO
    function loadUserData() {
        try {
            const userData = JSON.parse(localStorage.getItem('user_data') || '{}');
            if (userData.name) {
                const userName = document.getElementById('userName');
                const displayUserName = document.getElementById('displayUserName');
                const userAvatar = document.getElementById('userAvatar');
                
                if (userName) userName.textContent = userData.name;
                if (displayUserName) displayUserName.textContent = userData.name;
                if (userAvatar) userAvatar.textContent = userData.name.charAt(0).toUpperCase();
            }
        } catch (error) {
            console.error('Erro ao carregar dados:', error);
        }
    }

    // ✅ CALCULADORA DE SUREBETS
    function calculateSurebet() {
        try {
            const odd1 = parseFloat(document.getElementById('odd1')?.value || 2.10);
            const odd2 = parseFloat(document.getElementById('odd2')?.value || 2.00);
            const stakeTotal = parseFloat(document.getElementById('stakeTotal')?.value || 1000);
            const casa1 = document.getElementById('casa1')?.value || 'Bet365';
            const casa2 = document.getElementById('casa2')?.value || 'Betano';
            
            const impliedProb1 = 1 / odd1;
            const impliedProb2 = 1 / odd2;
            const totalImpliedProb = impliedProb1 + impliedProb2;
            
            const profitPercentage = ((1 - totalImpliedProb) / totalImpliedProb) * 100;
            const stake1 = (stakeTotal * impliedProb1) / totalImpliedProb;
            const stake2 = (stakeTotal * impliedProb2) / totalImpliedProb;
            const guaranteedProfit = (stake1 * odd1) - stakeTotal;
            
            // Atualiza resultados
            const resultProfit = document.getElementById('resultProfit');
            const resultROI = document.getElementById('resultROI');
            const resultMargin = document.getElementById('resultMargin');
            const stakeCasa1 = document.getElementById('stakeCasa1');
            const stakeCasa2 = document.getElementById('stakeCasa2');
            
            if (resultProfit) resultProfit.textContent = `R$ ${guaranteedProfit.toFixed(2)}`;
            if (resultROI) resultROI.textContent = `${profitPercentage.toFixed(2)}%`;
            if (resultMargin) resultMargin.textContent = `${profitPercentage.toFixed(2)}%`;
            if (stakeCasa1) stakeCasa1.textContent = `${casa1}: R$ ${stake1.toFixed(2)}`;
            if (stakeCasa2) stakeCasa2.textContent = `${casa2}: R$ ${stake2.toFixed(2)}`;
            
        } catch (error) {
            console.error('Erro no cálculo:', error);
        }
    }

    // ✅ OUTRAS FUNÇÕES
    function calculateOptimalStake() {
        try {
            const bankroll = 10000;
            const optimalStake = bankroll * 0.1;
            const stakeTotal = document.getElementById('stakeTotal');
            if (stakeTotal) stakeTotal.value = optimalStake.toFixed(2);
            calculateSurebet();
            showNotification('Stake otimizado calculado!', 'success');
        } catch (error) {
            console.error('Erro no stake:', error);
        }
    }

    function registerOperation() {
        showNotification('Operação registrada com sucesso!', 'success');
    }

    function showNotification(message, type) {
        try {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#ef4444'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                max-width: 90%;
                word-wrap: break-word;
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check' : 'exclamation'} me-2"></i>
                ${message}
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        } catch (error) {
            console.error('Erro na notificação:', error);
        }
    }

    // ✅ REDIMENSIONAMENTO
    window.addEventListener('resize', function() {
        if (window.innerWidth >= 768) {
            const navMenu = document.getElementById('navMenu');
            if (navMenu) navMenu.classList.remove('active');
        }
    });

    // ✅ GARANTE QUE LOGOUT ESTÁ DISPONÍVEL GLOBALMENTE
    window.logout = logout;
    console.log('✅ SISTEMA INICIALIZADO - logout disponível');
</script>
</body>
</html>







